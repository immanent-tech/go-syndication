<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xml:lang="en-US">
  <id>tag:github.com,2008:https://github.com/fish-shell/fish-shell/releases</id>
  <link type="text/html" rel="alternate" href="https://github.com/fish-shell/fish-shell/releases"/>
  <link type="application/atom+xml" rel="self" href="https://github.com/fish-shell/fish-shell/releases.atom"/>
  <title>Release notes from fish-shell</title>
  <updated>2025-03-13T13:17:05+10:00</updated>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/4.0.1</id>
    <updated>2025-03-14T01:50:22+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/4.0.1"/>
    <title>fish 4.0.1 (released March 12, 2025)</title>
    <content type="html">&lt;p&gt;This release of fish includes the following improvements compared to fish 4.0.0:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Key combinations using the super (Windows/command) key can be bound using the &lt;code&gt;super-&lt;/code&gt; prefix (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11217&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11217/hovercard&quot;&gt;#11217&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Konsole’s menu shows the “Open folder with” option again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11198&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11198/hovercard&quot;&gt;#11198&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;$fish_color_search_match&lt;/code&gt; will now only be applied to the foreground color if it has an explicit foreground. For example, this allows setting:&lt;br&gt;
&lt;code&gt;set -g fish_color_search_match --reverse&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Cursor shape commands (&lt;code&gt;\e[2 q&lt;/code&gt;) are no longer sent in non-interactive shells or in redirections (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11255&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11255/hovercard&quot;&gt;#11255&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;/fish-shell/fish-shell/blob/4.0.1/cmds/status.md&quot;&gt;status&lt;/a&gt; gained a &lt;code&gt;is-interactive-read&lt;/code&gt; subcommand, to check whether the script is being called from an interactive &lt;a href=&quot;/fish-shell/fish-shell/blob/4.0.1/cmds/read.md&quot;&gt;read&lt;/a&gt; invocation.&lt;/li&gt;
&lt;li&gt;fish’s background tasks are now started in a way that avoids an error on macOS Terminal.app (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11181&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11181/hovercard&quot;&gt;#11181&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Using key combinations within qemu should work correctly.&lt;/li&gt;
&lt;li&gt;Prompts containing control characters no longer cause incorrect display of command lines (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11252&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11252/hovercard&quot;&gt;#11252&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Cancelling the command-line in Vi mode displays correctly again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11261&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11261/hovercard&quot;&gt;#11261&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The acidhub prompt properly displays the git branch again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11179&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11179/hovercard&quot;&gt;#11179&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Completions for &lt;code&gt;wine&lt;/code&gt; correctly include files again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11202&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11202/hovercard&quot;&gt;#11202&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;On macOS, paths from &lt;code&gt;/etc/paths&lt;/code&gt; and &lt;code&gt;/etc/manpaths&lt;/code&gt; containing colons are handled correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10684&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10684/hovercard&quot;&gt;#10684&lt;/a&gt;). This functionality was included in the 4.0.0 release notes but was missing from the source code.&lt;/li&gt;
&lt;li&gt;The XTerm &lt;code&gt;modifyOtherKeys&lt;/code&gt; keyboard encoding is no longer used under WezTerm, as it does not work correctly in all layouts (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11204&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11204/hovercard&quot;&gt;#11204&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;option-left&lt;/code&gt; and other similar keys should now work in iTerm versions before 3.5.12; the kitty keyboard protocol is now disabled on these versions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11192&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11192/hovercard&quot;&gt;#11192&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The kitty keyboard protocol is no longer used under Midnight Commander, as it does not work correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10640&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10640/hovercard&quot;&gt;#10640&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish now sends the commandline along with the OSC 133 semantic prompt command start sequence. This fixes a test in the kitty terminal (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11203&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/11203/hovercard&quot;&gt;#11203&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Git completions for third-party commands like “git-absorb” are completed correctly again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11205&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11205/hovercard&quot;&gt;#11205&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Completions for &lt;code&gt;diskutil&lt;/code&gt; no longer produce an error (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11201&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/11201/hovercard&quot;&gt;#11201&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The output of certain error messages no longer prints newlines to standard output (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11248&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/11248/hovercard&quot;&gt;#11248&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A number of crashes have been fixed, including file names longer than 255 bytes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11221&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11221/hovercard&quot;&gt;#11221&lt;/a&gt;), using fish on a btrfs filesystem (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11219&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11219/hovercard&quot;&gt;#11219&lt;/a&gt;), history files that do not have the expected format (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11236&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11236/hovercard&quot;&gt;#11236&lt;/a&gt;), and pasting into an empty command line (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11256&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11256/hovercard&quot;&gt;#11256&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-4.0.1.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;4ed63a70207283e15cf21fc5f21db4230421e4f98d4826b5b1c8254d69c762b5&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt; is available as &quot;fish-4.0.1.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The files called fish-static-* are experimental, statically linked builds, for any Linux with the given architecture. Extract and run, and they will extract their data files as needed.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/4.0.0</id>
    <updated>2025-03-13T13:59:12+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/4.0.0"/>
    <title>fish 4.0.0 (released February 27, 2025)</title>
    <content type="html">&lt;p&gt;fish’s core code has been ported from C++ to Rust (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9512&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9512/hovercard&quot;&gt;#9512&lt;/a&gt;). This means a large change in dependencies and how to build fish. However, there should be no direct impact on users. Packagers should see the &lt;a href=&quot;#rust-packaging&quot;&gt;For Distributors&lt;/a&gt; section at the end.&lt;/p&gt;
&lt;h3&gt;Notable backwards-incompatible changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;As part of a larger binding rework, &lt;code&gt;bind&lt;/code&gt; gained a new key notation.&lt;br&gt;
In most cases the old notation should keep working, but in rare cases you may have to change a &lt;code&gt;bind&lt;/code&gt; invocation to use the new notation.&lt;br&gt;
See &lt;a href=&quot;#changelog-new-bindings&quot;&gt;below&lt;/a&gt; for details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ctrl-c&lt;/code&gt; now calls a new bind function called &lt;code&gt;clear-commandline&lt;/code&gt;. The old behavior, which leaves a “^C” marker, is available as &lt;code&gt;cancel-commandline&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10935&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10935/hovercard&quot;&gt;#10935&lt;/a&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;random&lt;/code&gt; will produce different values from previous versions of fish when used with the same seed, and will work more sensibly with small seed numbers.&lt;br&gt;
The seed was never guaranteed to give the same result across systems,&lt;br&gt;
so we do not expect this to have a large impact (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9593&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9593/hovercard&quot;&gt;#9593&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Variables in command position that expand to a subcommand keyword are now forbidden to fix a likely user error.&lt;br&gt;
For example, &lt;code&gt;set editor command emacs; $editor&lt;/code&gt; is no longer allowed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10249&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10249/hovercard&quot;&gt;#10249&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;functions --handlers&lt;/code&gt; will now list handlers in a different order.&lt;br&gt;
Now it is definition order, first to last, where before it was last to first.&lt;br&gt;
This was never specifically defined, and we recommend not relying on a specific order (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9944&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9944/hovercard&quot;&gt;#9944&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;qmark-noglob&lt;/code&gt; feature, introduced in fish 3.0, is enabled by default. That means &lt;code&gt;?&lt;/code&gt; will no longer act as a single-character glob.&lt;br&gt;
You can, for the time being, turn it back on by adding &lt;code&gt;no-qmark-noglob&lt;/code&gt; to &lt;code&gt;fish_features&lt;/code&gt; and restarting fish:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;set -Ua fish_features no-qmark-noglob&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;set -Ua fish_features no-qmark-noglob
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The flag will eventually be made read-only, making it impossible to turn off.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terminals that fail to ignore unrecognized OSC or CSI sequences may display garbage. We know cool-retro-term and emacs’ ansi-term are affected, but most mainstream terminals are not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fish no longer searches directories from the Windows system/user &lt;code&gt;$PATH&lt;/code&gt; environment variable for Linux executables. To execute Linux binaries by name (i.e. not with a relative or absolute path) from a Windows folder, make sure the &lt;code&gt;/mnt/c/...&lt;/code&gt; path is explicitly added to &lt;code&gt;$fish_user_paths&lt;/code&gt; and not just automatically appended to &lt;code&gt;$PATH&lt;/code&gt; by &lt;code&gt;wsl.exe&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10506&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10506/hovercard&quot;&gt;#10506&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under Microsoft Windows Subsystem for Linux 1 (not WSL 2), backgrounded jobs that have not been disowned and do not terminate on their own after a &lt;code&gt;SIGHUP&lt;/code&gt; + &lt;code&gt;SIGCONT&lt;/code&gt; sequence will be explicitly killed by fish on exit (after the usual prompt to close or disown them) to work around a WSL 1 deficiency that sees backgrounded processes that run into &lt;code&gt;SIGTTOU&lt;/code&gt; remain in a suspended state indefinitely (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5263&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5263/hovercard&quot;&gt;#5263&lt;/a&gt;). The workaround is to explicitly &lt;code&gt;disown&lt;/code&gt; processes you wish to outlive the shell session.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Notable improvements and fixes&lt;/h3&gt;
&lt;p&gt;&lt;a id=&quot;user-content-changelog-new-bindings&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fish now requests XTerm’s &lt;code&gt;modifyOtherKeys&lt;/code&gt; keyboard encoding and &lt;a href=&quot;https://sw.kovidgoyal.net/kitty/keyboard-protocol/&quot; rel=&quot;nofollow&quot;&gt;kitty keyboard protocol’s&lt;/a&gt; progressive enhancements (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10359&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10359/hovercard&quot;&gt;#10359&lt;/a&gt;).&lt;br&gt;
Depending on terminal support, this allows to binding more key combinations, including arbitrary combinations of modifiers &lt;code&gt;ctrl&lt;/code&gt;, &lt;code&gt;alt&lt;/code&gt; and &lt;code&gt;shift&lt;/code&gt;, and distinguishing (for example) &lt;code&gt;ctrl-i&lt;/code&gt; from &lt;code&gt;tab&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Additionally, &lt;code&gt;bind&lt;/code&gt; now supports a human-readable syntax in addition to byte sequences.&lt;br&gt;
This includes modifier names, and names for keys like &lt;code&gt;enter&lt;/code&gt; and &lt;code&gt;backspace&lt;/code&gt;.&lt;br&gt;
For example&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bind up &#39;do something&#39;&lt;/code&gt; binds the up-arrow key instead of a two-key sequence (“u” and then “p”)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bind ctrl-x,alt-c &#39;do something&#39;&lt;/code&gt; binds a sequence of two keys.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any key argument that starts with an ASCII control character (like &lt;code&gt;\e&lt;/code&gt; or &lt;code&gt;\cX&lt;/code&gt;) or is up to 3 characters long, not a named key, and does not contain &lt;code&gt;,&lt;/code&gt; or &lt;code&gt;-&lt;/code&gt; will be interpreted in the old syntax to keep compatibility for the majority of bindings.&lt;/p&gt;
&lt;p&gt;Keyboard protocols can be turned off by disabling the “keyboard-protocols” feature flag:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;set -Ua fish_features no-keyboard-protocols&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;set -Ua fish_features no-keyboard-protocols
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is a temporary measure to work around buggy terminals (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11056&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/11056/hovercard&quot;&gt;#11056&lt;/a&gt;), which appear to be relatively rare.&lt;br&gt;
Use this if something like “=0” or “=5u” appears in your commandline mysteriously.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fish can now be built as a self-installing binary (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10367&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10367/hovercard&quot;&gt;#10367&lt;/a&gt;). That means it can be easily built on one system and copied to another, where it can extract supporting files.&lt;br&gt;
To do this, run:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;cargo install --path . # in a clone of the fish repository
# or `cargo build --release` and copy target/release/fish{,_indent,_key_reader} wherever you want&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;cargo install --path . # in a clone of the fish repository
# or `cargo build --release` and copy target/release/fish{,_indent,_key_reader} wherever you want
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first time it runs interactively, it will extract all the data files to  &lt;code&gt;~/.local/share/fish/install/&lt;/code&gt;. A specific path can be used for the data files with &lt;code&gt;fish --install=PATH&lt;/code&gt; To uninstall, remove the fish binaries and that directory.&lt;/p&gt;
&lt;p&gt;This build system is experimental; the main build system, using &lt;code&gt;cmake&lt;/code&gt;, remains the recommended approach for packaging and installation to a prefix.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A new function &lt;code&gt;fish_should_add_to_history&lt;/code&gt; can be overridden to decide whether a command should be added to the history (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10302&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10302/hovercard&quot;&gt;#10302&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bindings can now mix special input functions and shell commands, so &lt;code&gt;bind ctrl-g expand-abbr &quot;commandline -i \n&quot;&lt;/code&gt; works as expected (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8186&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8186/hovercard&quot;&gt;#8186&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Special input functions run from bindings via &lt;code&gt;commandline -f&lt;/code&gt; are now applied immediately, instead of after the currently executing binding (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/3031&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/3031/hovercard&quot;&gt;#3031&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10126&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10126/hovercard&quot;&gt;#10126&lt;/a&gt;).&lt;br&gt;
For example, &lt;code&gt;commandline -i foo; commandline | grep foo&lt;/code&gt; succeeds now.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Undo history is no longer truncated after every command, but kept for the lifetime of the shell process.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ctrl-r&lt;/code&gt; history search now uses glob syntax (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10131&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10131/hovercard&quot;&gt;#10131&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ctrl-r&lt;/code&gt; history search now operates only on the line or command substitution at cursor, making it easier to combine commands from history (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9751&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9751/hovercard&quot;&gt;#9751&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Abbreviations can now be restricted to specific commands. For instance:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;abbr --add --command git back &#39;reset --hard HEAD^&#39;&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;abbr --add --command git back &#39;reset --hard HEAD^&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will expand “back” to &lt;code&gt;reset --hard HEAD^&lt;/code&gt;, but only when the command is &lt;code&gt;git&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9411&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9411/hovercard&quot;&gt;#9411&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecations and removed features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;commandline --tokenize&lt;/code&gt; (short option &lt;code&gt;-o&lt;/code&gt;) has been deprecated in favor of &lt;code&gt;commandline --tokens-expanded&lt;/code&gt; (short option &lt;code&gt;-x&lt;/code&gt;) which expands variables and other shell syntax, removing the need to use &lt;a href=&quot;/fish-shell/fish-shell/blob/4.0.0/cmds/eval.md&quot;&gt;eval&lt;/a&gt; in completion scripts (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10212&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10212/hovercard&quot;&gt;#10212&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Two new feature flags:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;remove-percent-self&lt;/code&gt; (see &lt;code&gt;status features&lt;/code&gt;) disables PID expansion of &lt;code&gt;%self&lt;/code&gt;, which has been supplanted by &lt;code&gt;$fish_pid&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10262&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10262/hovercard&quot;&gt;#10262&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test-require-arg&lt;/code&gt; disables &lt;code&gt;test&lt;/code&gt;’s one-argument mode. That means &lt;code&gt;test -n&lt;/code&gt; without an additional argument will return false, &lt;code&gt;test -z&lt;/code&gt; will keep returning true. Any other option without an argument, anything that is not an option and no argument will be an error. This also goes for &lt;code&gt;[&lt;/code&gt;, test’s alternate name.&lt;br&gt;
This is a frequent source of confusion and so we are breaking with POSIX explicitly in this regard.&lt;br&gt;
In addition to the feature flag, there is a debug category “deprecated-test”. Running fish with &lt;code&gt;fish -d deprecated-test&lt;/code&gt; will show warnings whenever a &lt;code&gt;test&lt;/code&gt; invocation that would change is used. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10365&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10365/hovercard&quot;&gt;#10365&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These can be enabled with:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;set -Ua fish_features remove-percent-self test-require-arg&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;set -Ua fish_features remove-percent-self test-require-arg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We intend to enable them by default in future, and after that eventually make them read-only.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specifying key names as terminfo names (using the &lt;code&gt;bind -k&lt;/code&gt; syntax) is deprecated and may be removed in a future version.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a terminal pastes text into fish using bracketed paste, fish used to switch to a special &lt;code&gt;paste&lt;/code&gt; bind mode.&lt;br&gt;
This bind mode has been removed. The behavior on paste is no longer configurable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When an interactive fish is stopped or terminated by a signal that cannot be caught (SIGSTOP or SIGKILL), it may leave the terminal in a state where keypresses with modifiers are sent as CSI u sequences, instead of traditional control characters or escape sequences that are recognized by Readline and compatible programs, such as bash and python.&lt;br&gt;
If this happens, you can use the &lt;code&gt;reset&lt;/code&gt; command from &lt;code&gt;ncurses&lt;/code&gt; to restore the terminal state.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;fish_key_reader --verbose&lt;/code&gt; no longer shows timing information.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terminal information is no longer read from hashed terminfo databases, or termcap databases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10269&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10269/hovercard&quot;&gt;#10269&lt;/a&gt;). The vast majority of systems use a non-hashed terminfo database, which is still supported.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;source&lt;/code&gt; returns an error if used without a filename or pipe/redirection (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10774&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10774/hovercard&quot;&gt;#10774&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scripting improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;for&lt;/code&gt; loops will no longer remember local variables from the previous iteration (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10525&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10525/hovercard&quot;&gt;#10525&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;history append&lt;/code&gt; subcommand appends a command to the history, without executing it (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/4506&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/4506/hovercard&quot;&gt;#4506&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new redirection: &lt;code&gt;&amp;lt;? /path/to/file&lt;/code&gt; will try opening the file as input, and if it doesn’t succeed silently uses &lt;code&gt;/dev/null&lt;/code&gt; instead.&lt;br&gt;
This can help with checks like &lt;code&gt;test -f /path/to/file; and string replace foo bar &amp;lt; /path/to/file&lt;/code&gt;. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10387&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10387/hovercard&quot;&gt;#10387&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;A new option &lt;code&gt;commandline --tokens-raw&lt;/code&gt; prints a list of tokens without any unescaping (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10212&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10212/hovercard&quot;&gt;#10212&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new option &lt;code&gt;commandline --showing-suggestion&lt;/code&gt; tests whether an autosuggestion is currently displayed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10586&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10586/hovercard&quot;&gt;#10586&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;functions&lt;/code&gt; and &lt;code&gt;type&lt;/code&gt; now show that a function was copied and its source, rather than solely &lt;code&gt;Defined interactively&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6575&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6575/hovercard&quot;&gt;#6575&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Stack trace now shows line numbers for copied functions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6575&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6575/hovercard&quot;&gt;#6575&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo &amp;amp; &amp;amp;&amp;amp; bar&lt;/code&gt; is now a syntax error, like in other shells (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9911&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9911/hovercard&quot;&gt;#9911&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;if -e foo; end&lt;/code&gt; now prints a more accurate error (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10000&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10000/hovercard&quot;&gt;#10000&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into a directory that is not readable but accessible (permissions &lt;code&gt;--x&lt;/code&gt;) is now possible (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10432&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10432/hovercard&quot;&gt;#10432&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;An integer overflow in &lt;code&gt;string repeat&lt;/code&gt; leading to a near-infinite loop has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9899&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9899/hovercard&quot;&gt;#9899&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string shorten&lt;/code&gt; behaves better in the presence of non-printable characters, including fixing an integer overflow that shortened strings more than intended (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9854&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9854/hovercard&quot;&gt;#9854&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string pad&lt;/code&gt; no longer allows non-printable characters as padding (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9854&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9854/hovercard&quot;&gt;#9854&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string repeat&lt;/code&gt; now allows omission of &lt;code&gt;-n&lt;/code&gt; when the first argument is an integer (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10282&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10282/hovercard&quot;&gt;#10282&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string match&lt;/code&gt; and &lt;code&gt;replace&lt;/code&gt; have a new &lt;code&gt;--max-matches&lt;/code&gt; option to return as soon as the specified number of matches have been identified, which can improve performance in scripts (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10587&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10587/hovercard&quot;&gt;#10587&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;functions --handlers-type caller-exit&lt;/code&gt; once again lists functions defined as &lt;code&gt;function --on-job-exit caller&lt;/code&gt;, rather than them being listed by &lt;code&gt;functions --handlers-type process-exit&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;set --no-event&lt;/code&gt; option sets or erases variables without triggering a variable event. This can be useful to change a variable in an event handler (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10480&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10480/hovercard&quot;&gt;#10480&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Commas in command substitution output are no longer used as separators in brace expansion, preventing a surprising expansion in some cases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5048&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5048/hovercard&quot;&gt;#5048&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Universal variables can now store strings containing invalid UTF-8 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10313&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10313/hovercard&quot;&gt;#10313&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;path basename -E&lt;/code&gt; option that causes it to return the basename (“filename” with the directory prefix removed) with the final extension (if any) also removed. This is a shorter version of &lt;code&gt;path change-extension &quot;&quot; (path basename $foo)&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10521&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10521/hovercard&quot;&gt;#10521&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;math --scale-mode&lt;/code&gt; option to select &lt;code&gt;truncate&lt;/code&gt;, &lt;code&gt;round&lt;/code&gt;, &lt;code&gt;floor&lt;/code&gt;, &lt;code&gt;ceiling&lt;/code&gt; as you wish; the default value is &lt;code&gt;truncate&lt;/code&gt;. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9117&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9117/hovercard&quot;&gt;#9117&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;random&lt;/code&gt; is now less strict about its arguments, allowing a start larger or equal to the end. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10879&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10879/hovercard&quot;&gt;#10879&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;function --argument-names&lt;/code&gt; now produces an error if a read-only variable name is used, rather than simply ignoring it (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10842&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10842/hovercard&quot;&gt;#10842&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Tilde expansion in braces (that is, &lt;code&gt;{~,}&lt;/code&gt;) works correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10610&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10610/hovercard&quot;&gt;#10610&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Interactive improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Autosuggestions were sometimes not shown after recalling a line from history, which has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10287&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10287/hovercard&quot;&gt;#10287&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Up-arrow search matches -- which are highlighted in reverse colors -- are no longer syntax-highlighted, to fix bad contrast with the search match highlighting.&lt;/li&gt;
&lt;li&gt;Command abbreviations (those with &lt;code&gt;--position command&lt;/code&gt; or without a &lt;code&gt;--position&lt;/code&gt;) now also expand after decorators like &lt;code&gt;command&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10396&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10396/hovercard&quot;&gt;#10396&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Abbreviations now expand after process separators like &lt;code&gt;;&lt;/code&gt; and &lt;code&gt;|&lt;/code&gt;. This fixes a regression in version 3.6 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9730&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9730/hovercard&quot;&gt;#9730&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When exporting interactively defined functions (using &lt;code&gt;type&lt;/code&gt;, &lt;code&gt;functions&lt;/code&gt; or &lt;code&gt;funcsave&lt;/code&gt;) the function body is now indented, to match the interactive command line editor (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8603&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/8603/hovercard&quot;&gt;#8603&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-x&lt;/code&gt; (&lt;code&gt;fish_clipboard_copy&lt;/code&gt;) on multiline commands now includes indentation (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10437&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10437/hovercard&quot;&gt;#10437&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-v&lt;/code&gt; (&lt;code&gt;fish_clipboard_paste&lt;/code&gt;) now strips ASCII control characters from the pasted text.&lt;br&gt;
This is consistent with normal keyboard input (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5274&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5274/hovercard&quot;&gt;#5274&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When a command like &lt;code&gt;fg %2&lt;/code&gt; fails to find the given job, it no longer behaves as if no job spec was given (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9835&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9835/hovercard&quot;&gt;#9835&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Redirection in command position like &lt;code&gt;&amp;gt;echo&lt;/code&gt; is now highlighted as error (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8877&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8877/hovercard&quot;&gt;#8877&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_vi_cursor&lt;/code&gt; now works properly inside the prompt created by builtin &lt;code&gt;read&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10088&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10088/hovercard&quot;&gt;#10088&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish no longer fails to open a FIFO if interrupted by a terminal resize signal (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10250&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10250/hovercard&quot;&gt;#10250&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read --help&lt;/code&gt; and friends no longer ignore redirections. This fixes a regression in version 3.1 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10274&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10274/hovercard&quot;&gt;#10274&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Measuring a command with &lt;code&gt;time&lt;/code&gt; now considers the time taken for command substitution (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9100&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9100/hovercard&quot;&gt;#9100&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_add_path&lt;/code&gt; now automatically enables verbose mode when used interactively (in the command line), in an effort to be clearer about what it does (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10532&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10532/hovercard&quot;&gt;#10532&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish no longer adopts TTY modes of failed commands (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10603&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10603/hovercard&quot;&gt;#10603&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;complete -e cmd&lt;/code&gt; now prevents autoloading completions for &lt;code&gt;cmd&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6716&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6716/hovercard&quot;&gt;#6716&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish’s default color scheme no longer uses the color “blue”, as it has bad contrast against the background in a few terminal’s default palettes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10758&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10758/hovercard&quot;&gt;#10758&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10786&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10786/hovercard&quot;&gt;#10786&lt;/a&gt;)&lt;br&gt;
The color scheme will not be upgraded for existing installs. If you want, you should select it again via &lt;code&gt;fish_config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Command lines which are larger than the terminal are now displayed correctly, instead of multiple blank lines being displayed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/7296&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/7296/hovercard&quot;&gt;#7296&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Prompts that use external commands will no longer produce an infinite loop if the command crashes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9796&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9796/hovercard&quot;&gt;#9796&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The output of &lt;code&gt;jobs&lt;/code&gt; shows “-” for jobs that have the same process group ID as the fish process, rather than “-2” (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10833&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10833/hovercard&quot;&gt;#10833&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Job expansion (&lt;code&gt;%1&lt;/code&gt; syntax) works properly for jobs that are a mixture of external commands and functions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10832&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10832/hovercard&quot;&gt;#10832&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Command lines which have more lines than the terminal can be displayed and edited correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10827&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10827/hovercard&quot;&gt;#10827&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Functions that have been erased are no longer highlighted as valid commands (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10866&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10866/hovercard&quot;&gt;#10866&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;not&lt;/code&gt;, &lt;code&gt;time&lt;/code&gt;, and variable assignments (that is &lt;code&gt;not time a=b env&lt;/code&gt;) is correctly recognized as valid syntax (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10890&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10890/hovercard&quot;&gt;#10890&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The Web-based configuration removes old right-hand-side prompts again, fixing a regression in fish 3.4.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10675&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10675/hovercard&quot;&gt;#10675&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Further protection against programs which crash and leave the terminal in an inconsistent state (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10834&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10834/hovercard&quot;&gt;#10834&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11038&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11038/hovercard&quot;&gt;#11038&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A workaround for git being very slow on macOS has been applied, improving performance after a fresh boot (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10535&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10535/hovercard&quot;&gt;#10535&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;New or improved bindings&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;When the cursor is on a command that resolves to an executable script, &lt;code&gt;alt-o&lt;/code&gt; will now open that script in your editor (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10266&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10266/hovercard&quot;&gt;#10266&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;During up-arrow history search, &lt;code&gt;shift-delete&lt;/code&gt; will delete the current search item and move to the next older item. Previously this was only supported in the history pager.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shift-delete&lt;/code&gt; will also remove the currently-displayed autosuggestion from history, and remove it as a suggestion.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-Z&lt;/code&gt; (also known as &lt;code&gt;ctrl-shift-z&lt;/code&gt;) is now bound to redo.&lt;/li&gt;
&lt;li&gt;Some improvements to the &lt;code&gt;alt-e&lt;/code&gt; binding which edits the command line in an external editor:
&lt;ul&gt;
&lt;li&gt;The editor’s cursor position is copied back to fish. This is currently supported for Vim and Kakoune.&lt;/li&gt;
&lt;li&gt;Cursor position synchronization is only supported for a set of known editors, which are now also detected in aliases which use &lt;code&gt;complete --wraps&lt;/code&gt;. For example, use &lt;code&gt;complete --wraps my-vim vim&lt;/code&gt; to synchronize cursors when &lt;code&gt;EDITOR=my-vim&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Multiline commands are indented before being sent to the editor, which matches how they are displayed in fish.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;...-path-component&lt;/code&gt; bindings, like &lt;code&gt;backward-kill-path-component&lt;/code&gt;, now treat &lt;code&gt;#&lt;/code&gt; as part of a path component (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10271&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10271/hovercard&quot;&gt;#10271&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Bindings like &lt;code&gt;alt-l&lt;/code&gt; that print output in between prompts now work correctly with multiline commandlines.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;alt-d&lt;/code&gt; on an empty command line lists the directory history again. This restores the behavior of version 2.1.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;history-prefix-search-backward&lt;/code&gt; and &lt;code&gt;-forward&lt;/code&gt; now maintain the cursor position, instead of moving the cursor to the end of the command line (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10430&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10430/hovercard&quot;&gt;#10430&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The following keys have refined behavior if the terminal supports &lt;a href=&quot;#changelog-new-bindings&quot;&gt;the new keyboard encodings&lt;/a&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;shift-enter&lt;/code&gt; now inserts a newline instead of executing the command line.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-backspace&lt;/code&gt; now deletes the last word instead of only one character (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10741&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10741/hovercard&quot;&gt;#10741&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-delete&lt;/code&gt; deletes the next word (same as &lt;code&gt;alt-d&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;New special input functions:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;forward-char-passive&lt;/code&gt; and &lt;code&gt;backward-char-passive&lt;/code&gt; are like their non-passive variants but do not accept autosuggestions or move focus in the completion pager (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10398&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10398/hovercard&quot;&gt;#10398&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;forward-token&lt;/code&gt;, &lt;code&gt;backward-token&lt;/code&gt;, &lt;code&gt;kill-token&lt;/code&gt;, and &lt;code&gt;backward-kill-token&lt;/code&gt; are similar to the &lt;code&gt;*-bigword&lt;/code&gt; variants but for the whole argument token (which includes escaped spaces) (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/2014&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/2014/hovercard&quot;&gt;#2014&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;clear-commandline&lt;/code&gt;, which merely clears the command line, as an alternative to &lt;code&gt;cancel-commandline&lt;/code&gt; which prints &lt;code&gt;^C&lt;/code&gt; and a new prompt (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10213&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10213/hovercard&quot;&gt;#10213&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;accept-autosuggestion&lt;/code&gt; special input function now returns false when there was nothing to accept (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10608&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10608/hovercard&quot;&gt;#10608&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Vi mode has seen some improvements but continues to suffer from the lack of people working on it.
&lt;ul&gt;
&lt;li&gt;New default cursor shapes for insert and replace mode.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-n&lt;/code&gt; in insert mode accepts autosuggestions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10339&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10339/hovercard&quot;&gt;#10339&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Outside insert mode, the cursor will no longer be placed beyond the last character on the commandline.&lt;/li&gt;
&lt;li&gt;When the cursor is at the end of the commandline, a single &lt;code&gt;l&lt;/code&gt; will accept an autosuggestion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10286&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10286/hovercard&quot;&gt;#10286&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The cursor position after pasting (&lt;code&gt;p&lt;/code&gt;) has been corrected.&lt;/li&gt;
&lt;li&gt;Added an additional binding, &lt;code&gt;_&lt;/code&gt;, for moving to the beginning of the line (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10720&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10720/hovercard&quot;&gt;#10720&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When the cursor is at the start of a line, escaping from insert mode no longer moves the cursor to the previous line.&lt;/li&gt;
&lt;li&gt;Added bindings for clipboard interaction, like &lt;code&gt;&quot;,+,p&lt;/code&gt; and &lt;code&gt;&quot;,+,y,y&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Deleting in visual mode now moves the cursor back, matching vi (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10394&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10394/hovercard&quot;&gt;#10394&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;;&lt;/code&gt;, &lt;code&gt;,&lt;/code&gt;, &lt;code&gt;v&lt;/code&gt;, &lt;code&gt;V&lt;/code&gt;, &lt;code&gt;I&lt;/code&gt;, and &lt;code&gt;gU&lt;/code&gt; bindings work in visual mode (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10601&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10601/hovercard&quot;&gt;#10601&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10648&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10648/hovercard&quot;&gt;#10648&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Support &lt;code&gt;%&lt;/code&gt; motion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10593&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10593/hovercard&quot;&gt;#10593&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-k&lt;/code&gt; to remove the contents of the line beyond the cursor in all modes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10648&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10648/hovercard&quot;&gt;#10648&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Support ab and ib vi text objects. New input functions are introduced &lt;code&gt;jump-{to,till}-matching-bracket&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/1842&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/1842/hovercard&quot;&gt;#1842&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;E&lt;/code&gt; binding now correctly handles the last character of the word, by jumping to the next word (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9700&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9700/hovercard&quot;&gt;#9700&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Completions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Command-specific tab completions may now offer results whose first character is a period. For example, it is now possible to tab-complete &lt;code&gt;git add&lt;/code&gt; for files with leading periods. The default file completions hide these files, unless the token itself has a leading period (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/3707&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/3707/hovercard&quot;&gt;#3707&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Option completion now uses fuzzy subsequence filtering, just like non-option completion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/830&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/830/hovercard&quot;&gt;#830&lt;/a&gt;).&lt;br&gt;
This means that &lt;code&gt;--fb&lt;/code&gt; may be completed to &lt;code&gt;--foobar&lt;/code&gt; if there is no better match.&lt;/li&gt;
&lt;li&gt;Completions that insert an entire token now use quotes instead of backslashes to escape special characters (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5433&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5433/hovercard&quot;&gt;#5433&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Normally, file name completions start after the last &lt;code&gt;:&lt;/code&gt;  or &lt;code&gt;=&lt;/code&gt; in a token.&lt;br&gt;
This helps commands like &lt;code&gt;rsync --files-from=&lt;/code&gt;.&lt;br&gt;
This special meaning can now disabled by escaping these separators as &lt;code&gt;\:&lt;/code&gt; and &lt;code&gt;\=&lt;/code&gt;.&lt;br&gt;
This matches Bash’s behavior.&lt;br&gt;
Note that this escaping is usually not necessary since the completion engine already tries&lt;br&gt;
to guess whether the separator is actually part of a file name.&lt;/li&gt;
&lt;li&gt;Various new completion scripts and numerous updates to existing ones.&lt;/li&gt;
&lt;li&gt;Completions could hang if the &lt;code&gt;PAGER&lt;/code&gt; environment variable was sent to certain editors on macOS, FreeBSD and some other platforms. This has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10820&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10820/hovercard&quot;&gt;#10820&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Generated completions are now stored in &lt;code&gt;$XDG_CACHE_HOME/fish&lt;/code&gt; or &lt;code&gt;~/.cache/fish&lt;/code&gt; by default (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10369&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10369/hovercard&quot;&gt;#10369&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;A regression in fish 3.1, where completing a command line could change it completely, has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10904&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10904/hovercard&quot;&gt;#10904&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Improved terminal support&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;fish now marks the prompt and command-output regions (via OSC 133) to enable terminal shell integration (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10352&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10352/hovercard&quot;&gt;#10352&lt;/a&gt;).&lt;br&gt;
Shell integration shortcuts can scroll to the next/previous prompt or show the last command output in a pager.&lt;/li&gt;
&lt;li&gt;fish now reports the working directory (via OSC 7) unconditionally instead of only for some terminals (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9955&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9955/hovercard&quot;&gt;#9955&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish now sets the terminal window title (via OSC 0) unconditionally instead of only for some terminals (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10037&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10037/hovercard&quot;&gt;#10037&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Focus reporting in tmux is no longer disabled on the first prompt.&lt;/li&gt;
&lt;li&gt;Focus reporting is now disabled during commands run inside key bindings (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6942&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6942/hovercard&quot;&gt;#6942&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Cursor changes are applied to all terminals that support them, and the list of specifically-supported terminals has been removed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10693&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10693/hovercard&quot;&gt;#10693&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;If it cannot find the terminfo entry given by &lt;a href=&quot;/fish-shell/fish-shell/blob/4.0.0/language.md#envvar-TERM&quot;&gt;&lt;code&gt;TERM&lt;/code&gt;&lt;/a&gt; environment variable, fish will now use an included &lt;code&gt;xterm-256color&lt;/code&gt; definition to match the vast majority of current terminal emulators (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10905&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10905/hovercard&quot;&gt;#10905&lt;/a&gt;). If you need to have a specific terminfo profile for your terminal’s &lt;code&gt;TERM&lt;/code&gt; variable, install it into the terminfo database.&lt;/li&gt;
&lt;li&gt;Further improvements to the correct display of prompts which fill the width of the terminal (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8164&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8164/hovercard&quot;&gt;#8164&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Other improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;status&lt;/code&gt; gained a &lt;code&gt;buildinfo&lt;/code&gt; subcommand, to print information on how fish was built, to help with debugging (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10896&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10896/hovercard&quot;&gt;#10896&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_indent&lt;/code&gt; will now collapse multiple empty lines into one (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10325&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10325/hovercard&quot;&gt;#10325&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_indent&lt;/code&gt; now preserves the modification time of files if there were no changes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10624&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10624/hovercard&quot;&gt;#10624&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Performance in launching external processes has been improved for many cases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10869&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10869/hovercard&quot;&gt;#10869&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Performance and interactivity under Windows Subsystem for Linux has been improved, with a workaround for Windows-specific locations being appended to &lt;code&gt;$PATH&lt;/code&gt; by default (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10506&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10506/hovercard&quot;&gt;#10506&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;On macOS, paths from &lt;code&gt;/etc/paths&lt;/code&gt; and &lt;code&gt;/etc/manpaths&lt;/code&gt; containing colons are handled correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10684&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10684/hovercard&quot;&gt;#10684&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Additional filesystems such as AFS are properly detected as remote, which avoids certain hangs due to expensive filesystem locks (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10818&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10818/hovercard&quot;&gt;#10818&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A spurious error when launching multiple instances of fish for the first time has been removed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10813&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10813/hovercard&quot;&gt;#10813&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id=&quot;user-content-rust-packaging&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;For distributors&lt;/h3&gt;
&lt;p&gt;fish has been ported to Rust. This means a significant change in dependencies, which are listed in the README. In short, Rust 1.70 or greater is required, and a C++ compiler is no longer needed (although a C compiler is still required, for some C glue code and the tests).&lt;/p&gt;
&lt;p&gt;CMake remains the recommended build system, because of cargo’s limited support for installing support files. Version 3.5 remains the minimum supported version. The Xcode generator for CMake is not supported any longer (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9924&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9924/hovercard&quot;&gt;#9924&lt;/a&gt;). CMake builds default to optimized release builds (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10799&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10799/hovercard&quot;&gt;#10799&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;fish no longer depends on the ncurses library, but still uses a terminfo database. When packaging fish, please add a dependency on the package containing your terminfo database instead of curses.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;test&lt;/code&gt; target was removed as it can no longer be defined in new CMake versions. Use &lt;code&gt;make fish_run_tests&lt;/code&gt;. Any existing test target will not print output if it fails (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/11116&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/11116/hovercard&quot;&gt;#11116&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;The Web-based configuration has been rewritten to use Alpine.js (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9554&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9554/hovercard&quot;&gt;#9554&lt;/a&gt;).&lt;/p&gt;
&lt;h3&gt;Changes since fish 4.0b1&lt;/h3&gt;
&lt;p&gt;A number of improvements were included in fish 4.0.0 following the beta release of 4.0b1. These include fixes for regressions, improvements to completions and documentation, and the removal of a small number of problematic changes.&lt;/p&gt;
&lt;p&gt;The full list of fixed issues can be found on the &lt;a href=&quot;https://github.com/fish-shell/fish-shell/milestone/43&quot;&gt;GitHub milestone page for 4.0-final&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, use the file named &quot;fish-4.0.0.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; may not build correctly. The SHA-256 sum of this file is &lt;code&gt;2fda5bd970357064d8d4c896e08285ba59965ca2a8c4829ca8a82bf3b89c69f3&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available  is available as &quot;fish-4.0.0.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The files called &lt;code&gt;fish-static-*&lt;/code&gt; are experimental statically linked builds for any linux with the given architecture. Extract and run, and they will extract their data files as needed&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/4.0b1</id>
    <updated>2024-12-19T11:18:03+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/4.0b1"/>
    <title>fish 4.0b1 (released December 17, 2024)</title>
    <content type="html">&lt;p&gt;These are the draft release notes for fish 4.0.0. Like this release of fish itself, they are in beta and are not complete. Please report any issues you find.&lt;/p&gt;
&lt;p&gt;fish’s core code has been ported from C++ to Rust (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9512&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9512/hovercard&quot;&gt;#9512&lt;/a&gt;).&lt;br&gt;
This means a large change in dependencies and how to build fish.&lt;br&gt;
Packagers should see the &lt;a href=&quot;#rust-packaging&quot;&gt;For Distributors&lt;/a&gt; section at the end.&lt;/p&gt;
&lt;h3&gt;Notable backwards-incompatible changes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;As part of a larger binding rework, &lt;code&gt;bind&lt;/code&gt; gained a new key notation.&lt;br&gt;
In most cases the old notation should keep working, but in rare cases you may have to change a &lt;code&gt;bind&lt;/code&gt; invocation to use the new notation.&lt;br&gt;
See &lt;a href=&quot;#changelog-new-bindings&quot;&gt;below&lt;/a&gt; for details.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terminals that fail to ignore unrecognized OSC or CSI sequences may display garbage. We know cool-retro-term and emacs’ ansi-term are affected,&lt;br&gt;
most mainstream terminals are not.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;alt-left&lt;/code&gt; and &lt;code&gt;alt-right&lt;/code&gt; will now move by one argument (which may contain quoted spaces), not just one word like &lt;code&gt;ctrl-left&lt;/code&gt; and &lt;code&gt;ctrl-right&lt;/code&gt; do.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;alt-backspace&lt;/code&gt; will delete an entire argument, not just one word (which is &lt;code&gt;ctrl-backspace&lt;/code&gt; now).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;random&lt;/code&gt; will produce different values from previous versions of fish when used with the same seed, and will work more sensibly with small seed numbers.&lt;br&gt;
The seed was never guaranteed to give the same result across systems,&lt;br&gt;
so we do not expect this to have a large impact (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9593&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9593/hovercard&quot;&gt;#9593&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Variables in command position that expand to a subcommand keyword are now forbidden to fix a likely user error.&lt;br&gt;
For example, &lt;code&gt;set editor command emacs; $editor&lt;/code&gt; is no longer allowed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10249&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10249/hovercard&quot;&gt;#10249&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;functions --handlers&lt;/code&gt; will now list handlers in a different order.&lt;br&gt;
Now it is definition order, first to last, where before it was last to first.&lt;br&gt;
This was never specifically defined, and we recommend not relying on a specific order (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9944&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9944/hovercard&quot;&gt;#9944&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;qmark-noglob&lt;/code&gt; feature, introduced in fish 3.0, is enabled by default. That means &lt;code&gt;?&lt;/code&gt; will no longer act as a single-character glob.&lt;br&gt;
You can, for the time being, turn it back on by adding &lt;code&gt;no-qmark-noglob&lt;/code&gt; to &lt;code&gt;fish_features&lt;/code&gt; and restarting fish:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;set -Ua fish_features no-qmark-noglob&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;set -Ua fish_features no-qmark-noglob
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The flag will eventually be made read-only, making it impossible to turn off.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fish no longer searches directories from the Windows system/user &lt;code&gt;$PATH&lt;/code&gt; environment variable for Linux executables. To execute Linux binaries by name (i.e. not with a relative or absolute path) from a Windows folder, make sure the &lt;code&gt;/mnt/c/...&lt;/code&gt; path is explicitly added to &lt;code&gt;$fish_user_paths&lt;/code&gt; and not just automatically appended to &lt;code&gt;$PATH&lt;/code&gt; by &lt;code&gt;wsl.exe&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10506&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10506/hovercard&quot;&gt;#10506&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under Microsoft Windows Subsystem for Linux 1 (not WSL 2) , backgrounded jobs that have not been disowned and do not terminate on their own after a &lt;code&gt;SIGHUP&lt;/code&gt; + &lt;code&gt;SIGCONT&lt;/code&gt; sequence will be explicitly killed by fish on exit (after the usual prompt to close or disown them) to work around a WSL 1 deficiency that sees backgrounded processes that run into &lt;code&gt;SIGTTOU&lt;/code&gt; remain in a suspended state indefinitely (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5263&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5263/hovercard&quot;&gt;#5263&lt;/a&gt;). The workaround is to explicitly &lt;code&gt;disown&lt;/code&gt; processes you wish to outlive the shell session.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Notable improvements and fixes&lt;/h3&gt;
&lt;p&gt;&lt;a id=&quot;user-content-changelog-new-bindings&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;fish now requests XTerm’s &lt;code&gt;modifyOtherKeys&lt;/code&gt; keyboard encoding and &lt;a href=&quot;https://sw.kovidgoyal.net/kitty/keyboard-protocol/&quot; rel=&quot;nofollow&quot;&gt;kitty keyboard protocol’s&lt;/a&gt; progressive enhancements (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10359&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10359/hovercard&quot;&gt;#10359&lt;/a&gt;).&lt;br&gt;
Depending on terminal support, this allows to binding more key combinations, including arbitrary combinations of modifiers &lt;code&gt;ctrl&lt;/code&gt;, &lt;code&gt;alt&lt;/code&gt; and &lt;code&gt;shift&lt;/code&gt;, and distinguishing (for example) &lt;code&gt;ctrl-i&lt;/code&gt; from &lt;code&gt;tab&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Additionally, &lt;code&gt;bind&lt;/code&gt; now supports a human-readable syntax in addition to byte sequences.&lt;br&gt;
This includes modifier names, and names for keys like &lt;code&gt;enter&lt;/code&gt; and &lt;code&gt;backspace&lt;/code&gt;.&lt;br&gt;
For example&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bind up &#39;do something&#39;&lt;/code&gt; binds the up-arrow key instead of a two-key sequence (“u” and then “p”)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bind ctrl-x,alt-c &#39;do something&#39;&lt;/code&gt; binds a sequence of two keys.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Any key argument that starts with an ASCII control character (like &lt;code&gt;\e&lt;/code&gt; or &lt;code&gt;\cX&lt;/code&gt;) or is up to 3 characters long, not a named key, and does not contain &lt;code&gt;,&lt;/code&gt; or &lt;code&gt;-&lt;/code&gt; will be interpreted in the old syntax to keep compatibility for the majority of bindings.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;fish can now be built as a self-installing binary (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10367&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10367/hovercard&quot;&gt;#10367&lt;/a&gt;). That means it can be easily built on one system and copied to another, where it can extract supporting files.&lt;br&gt;
To do this, run:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;cargo install --path . # in a clone of the fish repository
# or `cargo build --release` and copy target/release/fish{,_indent,_key_reader} wherever you want&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;cargo install --path . # in a clone of the fish repository
# or `cargo build --release` and copy target/release/fish{,_indent,_key_reader} wherever you want
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The first time it runs interactively, it will extract all the data files to  &lt;code&gt;~/.local/share/fish/install/&lt;/code&gt;. To uninstall, remove the fish binaries and that directory.&lt;/p&gt;
&lt;p&gt;This build system is experimental; the main build system, using &lt;code&gt;cmake&lt;/code&gt;, remains the recommended approach for packaging and installation to a prefix.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A new function &lt;code&gt;fish_should_add_to_history&lt;/code&gt; can be overridden to decide whether a command should be added to the history (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10302&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10302/hovercard&quot;&gt;#10302&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;ctrl-c&lt;/code&gt; during command input no longer prints &lt;code&gt;^C&lt;/code&gt; and a new prompt, but merely clears the command line. This restores the behavior from version 2.2. To revert to the old behavior, use &lt;code&gt;bind ctrl-c __fish_cancel_commandline&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10213&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10213/hovercard&quot;&gt;#10213&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bindings can now mix special input functions and shell commands, so &lt;code&gt;bind ctrl-g expand-abbr &quot;commandline -i \n&quot;&lt;/code&gt; works as expected (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8186&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8186/hovercard&quot;&gt;#8186&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Special input functions run from bindings via &lt;code&gt;commandline -f&lt;/code&gt; are now applied immediately, instead of after the currently executing binding (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/3031&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/3031/hovercard&quot;&gt;#3031&lt;/a&gt;).&lt;br&gt;
For example, &lt;code&gt;commandline -i foo; commandline | grep foo&lt;/code&gt; succeeds now.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Undo history is no longer truncated after every command, but kept for the lifetime of the shell process.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ctrl-r&lt;/code&gt; history search now uses glob syntax (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10131&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10131/hovercard&quot;&gt;#10131&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;code&gt;ctrl-r&lt;/code&gt; history search now operates only on the line or command substitution at cursor, making it easier to combine commands from history.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Abbreviations can now be restricted to specific commands. For instance:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;abbr --add --command git back &#39;reset --hard HEAD^&#39;&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;abbr --add --command git back &#39;reset --hard HEAD^&#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;will expand “back” to &lt;code&gt;reset --hard HEAD^&lt;/code&gt;, but only when the command is &lt;code&gt;git&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9411&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9411/hovercard&quot;&gt;#9411&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecations and removed features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;commandline --tokenize&lt;/code&gt; (short option &lt;code&gt;-o&lt;/code&gt;) has been deprecated in favor of &lt;code&gt;commandline --tokens-expanded&lt;/code&gt; (short option &lt;code&gt;-x&lt;/code&gt;) which expands variables and other shell syntax, removing the need to use &lt;a href=&quot;/fish-shell/fish-shell/blob/4.0b1/cmds/eval.md&quot;&gt;eval&lt;/a&gt; in completion scripts (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10212&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10212/hovercard&quot;&gt;#10212&lt;/a&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Two new feature flags:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;remove-percent-self&lt;/code&gt; (see &lt;code&gt;status features&lt;/code&gt;) disables PID expansion of &lt;code&gt;%self&lt;/code&gt;, which has been supplanted by &lt;code&gt;$fish_pid&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10262&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10262/hovercard&quot;&gt;#10262&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;test-require-arg&lt;/code&gt; disables &lt;code&gt;test&lt;/code&gt;’s one-argument mode. That means &lt;code&gt;test -n&lt;/code&gt; without an additional argument will return false, &lt;code&gt;test -z&lt;/code&gt; will keep returning true. Any other option without an argument, anything that is not an option and no argument will be an error. This also goes for &lt;code&gt;[&lt;/code&gt;, test’s alternate name.&lt;br&gt;
This is a frequent source of confusion and so we are breaking with POSIX explicitly in this regard.&lt;br&gt;
In addition to the feature flag, there is a debug category “deprecated-test”. Running fish with &lt;code&gt;fish -d deprecated-test&lt;/code&gt; will show warnings whenever a &lt;code&gt;test&lt;/code&gt; invocation that would change is used. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10365&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10365/hovercard&quot;&gt;#10365&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These can be enabled with:&lt;/p&gt;
&lt;div class=&quot;snippet-clipboard-content notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;set -Ua fish_features remove-percent-self test-require-arg&quot;&gt;&lt;pre lang=&quot;fish-docs-samples&quot; class=&quot;notranslate&quot;&gt;&lt;code&gt;set -Ua fish_features remove-percent-self test-require-arg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;We intend to enable them by default in future, and after that eventually make them read-only.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Specifying key names as terminfo names (using the &lt;code&gt;bind -k&lt;/code&gt; syntax) is deprecated and may be removed in a future version.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When a terminal pastes text into fish using bracketed paste, fish used to switch to a special &lt;code&gt;paste&lt;/code&gt; bind mode.&lt;br&gt;
This bind mode has been removed. The behavior on paste is no longer configurable.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When an interactive fish is stopped or terminated by a signal that cannot be caught (SIGSTOP or SIGKILL), it may leave the terminal in a state where keypresses with modifiers are sent as CSI u sequences, instead of traditional control characters or escape sequences that are recognized by Readline and compatible programs, such as bash and python.&lt;br&gt;
If this happens, you can use the &lt;code&gt;reset&lt;/code&gt; command from &lt;code&gt;ncurses&lt;/code&gt; to restore the terminal state.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;fish_key_reader --verbose&lt;/code&gt; no longer shows timing information.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Terminal information is no longer read from hashed terminfo databases, or termcap databases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10269&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10269/hovercard&quot;&gt;#10269&lt;/a&gt;). The vast majority of systems use a non-hashed terminfo database, which is still supported.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scripting improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;for&lt;/code&gt; loops will no longer remember local variables from the previous iteration (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10525&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10525/hovercard&quot;&gt;#10525&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;history append&lt;/code&gt; subcommand appends a command to the history, without executing it (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/4506&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/4506/hovercard&quot;&gt;#4506&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new redirection: &lt;code&gt;&amp;lt;? /path/to/file&lt;/code&gt; will try opening the file as input, and if it doesn’t succeed silently uses &lt;code&gt;/dev/null&lt;/code&gt; instead.&lt;br&gt;
This can help with checks like &lt;code&gt;test -f /path/to/file; and string replace foo bar &amp;lt; /path/to/file&lt;/code&gt;. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10387&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10387/hovercard&quot;&gt;#10387&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;A new option &lt;code&gt;commandline --tokens-raw&lt;/code&gt; prints a list of tokens without any unescaping (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10212&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10212/hovercard&quot;&gt;#10212&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new option &lt;code&gt;commandline --showing-suggestion&lt;/code&gt; tests whether an autosuggestion is currently displayed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10586&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10586/hovercard&quot;&gt;#10586&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;functions&lt;/code&gt; and &lt;code&gt;type&lt;/code&gt; now show that a function was copied and its source, rather than solely &lt;code&gt;Defined interactively&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6575&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6575/hovercard&quot;&gt;#6575&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Stack trace now shows line numbers for copied functions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6575&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6575/hovercard&quot;&gt;#6575&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;foo &amp;amp; &amp;amp;&amp;amp; bar&lt;/code&gt; is now a syntax error, like in other shells (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9911&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9911/hovercard&quot;&gt;#9911&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;if -e foo; end&lt;/code&gt; now prints a more accurate error (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10000&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10000/hovercard&quot;&gt;#10000&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;cd&lt;/code&gt; into a directory that is not readable but accessible (permissions &lt;code&gt;--x&lt;/code&gt;) is now possible (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10432&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10432/hovercard&quot;&gt;#10432&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;An integer overflow in &lt;code&gt;string repeat&lt;/code&gt; leading to a near-infinite loop has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9899&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9899/hovercard&quot;&gt;#9899&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string shorten&lt;/code&gt; behaves better in the presence of non-printable characters, including fixing an integer overflow that shortened strings more than intended (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9854&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9854/hovercard&quot;&gt;#9854&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string pad&lt;/code&gt; no longer allows non-printable characters as padding (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9854&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9854/hovercard&quot;&gt;#9854&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string repeat&lt;/code&gt; now allows omission of &lt;code&gt;-n&lt;/code&gt; when the first argument is an integer (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10282&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10282/hovercard&quot;&gt;#10282&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string match&lt;/code&gt; and &lt;code&gt;replace&lt;/code&gt; have a new &lt;code&gt;--max-matches&lt;/code&gt; option to return as soon as the specified number of matches have been identified, which can improve performance in scripts (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10587&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10587/hovercard&quot;&gt;#10587&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;functions --handlers-type caller-exit&lt;/code&gt; once again lists functions defined as &lt;code&gt;function --on-job-exit caller&lt;/code&gt;, rather than them being listed by &lt;code&gt;functions --handlers-type process-exit&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;set --no-event&lt;/code&gt; option sets or erases variables without triggering a variable event. This can be useful to change a variable in an event handler (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10480&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10480/hovercard&quot;&gt;#10480&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Commas in command substitution output are no longer used as separators in brace expansion, preventing a surprising expansion in some cases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5048&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5048/hovercard&quot;&gt;#5048&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Universal variables can now store strings containing invalid UTF-8 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10313&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10313/hovercard&quot;&gt;#10313&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;path basename -E&lt;/code&gt; option that causes it to return the basename (“filename” with the directory prefix removed) with the final extension (if any) also removed. This is a shorter version of &lt;code&gt;path change-extension &quot;&quot; (path basename $foo)&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10521&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10521/hovercard&quot;&gt;#10521&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;math --scale-mode&lt;/code&gt; option to select &lt;code&gt;truncate&lt;/code&gt;, &lt;code&gt;round&lt;/code&gt;, &lt;code&gt;floor&lt;/code&gt;, &lt;code&gt;ceiling&lt;/code&gt; as you wish; the default value is &lt;code&gt;truncate&lt;/code&gt;. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9117&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9117/hovercard&quot;&gt;#9117&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;random&lt;/code&gt; is now less strict about its arguments, allowing a start larger or equal to the end. (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10879&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10879/hovercard&quot;&gt;#10879&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Interactive improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Autosuggestions were sometimes not shown after recalling a line from history, which has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10287&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10287/hovercard&quot;&gt;#10287&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Up-arrow search matches -- which are highlighted in reverse colors -- are no longer syntax-highlighted, to fix bad contrast with the search match highlighting.&lt;/li&gt;
&lt;li&gt;Command abbreviations (those with &lt;code&gt;--position command&lt;/code&gt; or without a &lt;code&gt;--position&lt;/code&gt;) now also expand after decorators like &lt;code&gt;command&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10396&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10396/hovercard&quot;&gt;#10396&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Abbreviations now expand after process separators like &lt;code&gt;;&lt;/code&gt; and &lt;code&gt;|&lt;/code&gt;. This fixes a regression in version 3.6 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9730&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9730/hovercard&quot;&gt;#9730&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When exporting interactively defined functions (using &lt;code&gt;type&lt;/code&gt;, &lt;code&gt;functions&lt;/code&gt; or &lt;code&gt;funcsave&lt;/code&gt;) the function body is now indented, to match the interactive command line editor (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8603&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/8603/hovercard&quot;&gt;#8603&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-x&lt;/code&gt; (&lt;code&gt;fish_clipboard_copy&lt;/code&gt;) on multiline commands now includes indentation (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10437&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10437/hovercard&quot;&gt;#10437&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-v&lt;/code&gt; (&lt;code&gt;fish_clipboard_paste&lt;/code&gt;) now strips ASCII control characters from the pasted text.&lt;br&gt;
This is consistent with normal keyboard input (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5274&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5274/hovercard&quot;&gt;#5274&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;When a command like &lt;code&gt;fg %2&lt;/code&gt; fails to find the given job, it no longer behaves as if no job spec was given (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9835&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9835/hovercard&quot;&gt;#9835&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Redirection in command position like &lt;code&gt;&amp;gt;echo&lt;/code&gt; is now highlighted as error (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8877&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8877/hovercard&quot;&gt;#8877&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_vi_cursor&lt;/code&gt; now works properly inside the prompt created by builtin &lt;code&gt;read&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10088&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10088/hovercard&quot;&gt;#10088&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish no longer fails to open a FIFO if interrupted by a terminal resize signal (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10250&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10250/hovercard&quot;&gt;#10250&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read --help&lt;/code&gt; and friends no longer ignore redirections. This fixes a regression in version 3.1 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10274&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10274/hovercard&quot;&gt;#10274&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Measuring a command with &lt;code&gt;time&lt;/code&gt; now considers the time taken for command substitution (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9100&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9100/hovercard&quot;&gt;#9100&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_add_path&lt;/code&gt; now automatically enables verbose mode when used interactively (in the command line), in an effort to be clearer about what it does (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10532&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10532/hovercard&quot;&gt;#10532&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish no longer adopts TTY modes of failed commands (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10603&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10603/hovercard&quot;&gt;#10603&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;complete -e cmd now prevents autoloading completions for cmd (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6716&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6716/hovercard&quot;&gt;#6716&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish’s default color scheme no longer uses the color “blue”, as it has bad contrast against the background in a few terminal’s default palettes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10758&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10758/hovercard&quot;&gt;#10758&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10786&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10786/hovercard&quot;&gt;#10786&lt;/a&gt;)&lt;br&gt;
The color scheme will not be upgraded for existing installs. If you want, you should select it again via &lt;code&gt;fish_config&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Command lines which are larger than the terminal are now displayed correctly, instead of multiple blank lines being displayed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/7296&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/7296/hovercard&quot;&gt;#7296&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Prompts that use external commands will no longer produce an infinite loop if the command crashes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9796&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9796/hovercard&quot;&gt;#9796&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;New or improved bindings&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;When the cursor is on a command that resolves to an executable script, &lt;code&gt;alt-o&lt;/code&gt; will now open that script in your editor (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10266&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10266/hovercard&quot;&gt;#10266&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;During up-arrow history search, &lt;code&gt;shift-delete&lt;/code&gt; will delete the current search item and move to the next older item. Previously this was only supported in the history pager.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;shift-delete&lt;/code&gt; will also remove the currently-displayed autosuggestion from history, and remove it as a suggestion.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-Z&lt;/code&gt; (also known as &lt;code&gt;ctrl-shift-z&lt;/code&gt;) is now bound to redo.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;alt-delete&lt;/code&gt; now deletes the argument (which may contain quoted spaces) right of the cursor.&lt;/li&gt;
&lt;li&gt;Some improvements to the &lt;code&gt;alt-e&lt;/code&gt; binding which edits the command line in an external editor:
&lt;ul&gt;
&lt;li&gt;The editor’s cursor position is copied back to fish. This is currently supported for Vim and Kakoune.&lt;/li&gt;
&lt;li&gt;Cursor position synchronization is only supported for a set of known editors, which are now also detected in aliases which use &lt;code&gt;complete --wraps&lt;/code&gt;. For example, use &lt;code&gt;complete --wraps my-vim vim&lt;/code&gt; to synchronize cursors when &lt;code&gt;EDITOR=my-vim&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Multiline commands are indented before being sent to the editor, which matches how they are displayed in fish.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;...-path-component&lt;/code&gt; bindings, like &lt;code&gt;backward-kill-path-component&lt;/code&gt;, now treat &lt;code&gt;#&lt;/code&gt; as part of a path component (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10271&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10271/hovercard&quot;&gt;#10271&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Bindings like &lt;code&gt;alt-l&lt;/code&gt; that print output in between prompts now work correctly with multiline commandlines.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-c&lt;/code&gt; no longer cancels builtin &lt;code&gt;read&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;alt-d&lt;/code&gt; on an empty command line lists the directory history again. This restores the behavior of version 2.1.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;history-prefix-search-backward&lt;/code&gt; and &lt;code&gt;-forward&lt;/code&gt; now maintain the cursor position, instead of moving the cursor to the end of the command line (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10430&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10430/hovercard&quot;&gt;#10430&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The following keys have refined behavior if the terminal supports &lt;a href=&quot;#changelog-new-bindings&quot;&gt;the new keyboard encodings&lt;/a&gt;:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;shift-enter&lt;/code&gt; now inserts a newline instead of executing the command line.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-backspace&lt;/code&gt; now deletes the last word instead of only one character (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10741&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10741/hovercard&quot;&gt;#10741&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ctrl-delete&lt;/code&gt; deletes the next word (same as &lt;code&gt;alt-d&lt;/code&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;New special input functions:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;forward-char-passive&lt;/code&gt; and &lt;code&gt;backward-char-passive&lt;/code&gt; are like their non-passive variants but do not accept autosuggestions or move focus in the completion pager (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10398&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10398/hovercard&quot;&gt;#10398&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;forward-token&lt;/code&gt;, &lt;code&gt;backward-token&lt;/code&gt;, &lt;code&gt;kill-token&lt;/code&gt;, and &lt;code&gt;backward-kill-token&lt;/code&gt; are similar to the &lt;code&gt;*-bigword&lt;/code&gt; variants but for the whole argument token which includes escaped spaces (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/2014&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/2014/hovercard&quot;&gt;#2014&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;accept-autosuggestion&lt;/code&gt; special input function now returns false when there was nothing to accept (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10608&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10608/hovercard&quot;&gt;#10608&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Vi mode has seen some improvements but continues to suffer from the lack of people working on it.
&lt;ul&gt;
&lt;li&gt;New default cursor shapes for insert and replace mode.&lt;/li&gt;
&lt;li&gt;Insert-mode &lt;code&gt;ctrl-n&lt;/code&gt; accepts autosuggestions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10339&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10339/hovercard&quot;&gt;#10339&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Outside insert mode, the cursor will no longer be placed beyond the last character on the commandline.&lt;/li&gt;
&lt;li&gt;When the cursor is at the end of the commandline, a single &lt;code&gt;l&lt;/code&gt; will accept an autosuggestion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10286&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10286/hovercard&quot;&gt;#10286&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The cursor position after pasting (&lt;code&gt;p&lt;/code&gt;) has been corrected.&lt;/li&gt;
&lt;li&gt;When the cursor is at the start of a line, escaping from insert mode no longer moves the cursor to the previous line.&lt;/li&gt;
&lt;li&gt;Added bindings for clipboard interaction, like &lt;code&gt;&quot;,+,p&lt;/code&gt; and &lt;code&gt;&quot;,+,y,y&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Deleting in visual mode now moves the cursor back, matching vi (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10394&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10394/hovercard&quot;&gt;#10394&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Support &lt;code&gt;%&lt;/code&gt; motion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10593&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10593/hovercard&quot;&gt;#10593&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Support ab and ib vi text objects. New input functions are introduced &lt;code&gt;jump-{to,till}-matching-bracket&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/1842&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/1842/hovercard&quot;&gt;#1842&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;E&lt;/code&gt; binding now correctly handles the last character of the word, by jumping to the next word (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9700&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9700/hovercard&quot;&gt;#9700&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Completions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Command-specific tab completions may now offer results whose first character is a period. For example, it is now possible to tab-complete &lt;code&gt;git add&lt;/code&gt; for files with leading periods. The default file completions hide these files, unless the token itself has a leading period (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/3707&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/3707/hovercard&quot;&gt;#3707&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Option completion now uses fuzzy subsequence filtering, just like non-option completion (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/830&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/830/hovercard&quot;&gt;#830&lt;/a&gt;).&lt;br&gt;
This means that &lt;code&gt;--fb&lt;/code&gt; may be completed to &lt;code&gt;--foobar&lt;/code&gt; if there is no better match.&lt;/li&gt;
&lt;li&gt;Completions that insert an entire token now use quotes instead of backslashes to escape special characters (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/5433&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/5433/hovercard&quot;&gt;#5433&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Historically, file name completions are provided after the last &lt;code&gt;:&lt;/code&gt;  or &lt;code&gt;=&lt;/code&gt; within a token.&lt;br&gt;
This helps commands like &lt;code&gt;rsync --files-from=&lt;/code&gt;.&lt;br&gt;
If the &lt;code&gt;=&lt;/code&gt; or &lt;code&gt;:&lt;/code&gt; is actually part of the filename, it will be escaped as &lt;code&gt;\:&lt;/code&gt; and &lt;code&gt;\=&lt;/code&gt;,&lt;br&gt;
and no longer get this special treatment.&lt;br&gt;
This matches Bash’s behavior.&lt;/li&gt;
&lt;li&gt;Various new completion scripts and numerous updates to existing ones.&lt;/li&gt;
&lt;li&gt;Generated completions are now stored in &lt;code&gt;$XDG_CACHE_HOME/fish&lt;/code&gt; or &lt;code&gt;~/.cache/fish&lt;/code&gt; by default (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10369&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10369/hovercard&quot;&gt;#10369&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Improved terminal support&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;fish now marks the prompt and command-output regions (via OSC 133) to enable terminal shell integration (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10352&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10352/hovercard&quot;&gt;#10352&lt;/a&gt;).&lt;br&gt;
Shell integration shortcuts can scroll to the next/previous prompt or show the last command output in a pager.&lt;/li&gt;
&lt;li&gt;fish now reports the working directory (via OSC 7) unconditionally instead of only for some terminals (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9955&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9955/hovercard&quot;&gt;#9955&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish now sets the terminal window title (via OSC 0) unconditionally instead of only for some terminals (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10037&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10037/hovercard&quot;&gt;#10037&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Focus reporting in tmux is no longer disabled on the first prompt.&lt;/li&gt;
&lt;li&gt;Focus reporting is now disabled during commands run inside key bindings (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6942&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6942/hovercard&quot;&gt;#6942&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Cursor changes are applied to all terminals that support them, and the list of specifically-supported terminals has been removed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10693&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10693/hovercard&quot;&gt;#10693&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;If it cannot find the terminfo entry given by &lt;a href=&quot;/fish-shell/fish-shell/blob/4.0b1/language.md#envvar-TERM&quot;&gt;&lt;code&gt;TERM&lt;/code&gt;&lt;/a&gt; environment variable, fish will now use an included &lt;code&gt;xterm-256color&lt;/code&gt; definition to match the vast majority of current terminal emulators (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10905&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10905/hovercard&quot;&gt;#10905&lt;/a&gt;). If you need to have a specific terminfo profile for your terminal’s &lt;code&gt;TERM&lt;/code&gt; variable, install it into the terminfo database.&lt;/li&gt;
&lt;li&gt;Further improvements to the correct display of prompts which fill the width of the terminal (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8164&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8164/hovercard&quot;&gt;#8164&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Other improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;fish_indent&lt;/code&gt; will now collapse multiple empty lines into one (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10325&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10325/hovercard&quot;&gt;#10325&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_indent&lt;/code&gt; now preserves the modification time of files if there were no changes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10624&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10624/hovercard&quot;&gt;#10624&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Performance and interactivity under Windows Subsystem for Linux has been improved, with a workaround for Windows-specific locations being appended to &lt;code&gt;$PATH&lt;/code&gt; by default (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10506&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10506/hovercard&quot;&gt;#10506&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Additional filesystems such as AFS are properly detected as remote, which avoids certain hangs due to expensive filesystem locks (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10818&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10818/hovercard&quot;&gt;#10818&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a id=&quot;user-content-rust-packaging&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;For distributors&lt;/h3&gt;
&lt;p&gt;fish has been ported to Rust. This means a significant change in dependencies, which are listed in the README. In short, Rust 1.70 or greater is required, and a C++ compiler is no longer needed (although a C compiler is still required, for some C glue code and the tests).&lt;/p&gt;
&lt;p&gt;CMake remains the recommended build system, because of cargo’s limited support for installing support files. Version 3.5 remains the minimum supported version. The Xcode generator for CMake is not supported any longer (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9924&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9924/hovercard&quot;&gt;#9924&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;fish no longer depends on the ncurses library, but still uses a terminfo database. When packaging fish, please add a dependency on the package containing your terminfo database instead of curses.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-4.0b1.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;534334e10f85722214e9daff82a57cc3501235523f16f8f131c2344e4ec98da7&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-4.0b1.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The files called &lt;code&gt;fish-static-*&lt;/code&gt; are experimental statically linked builds for any linux with the given architecture. Extract and run, and they will extract their data files as needed&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.7.1</id>
    <updated>2024-03-23T05:32:15+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.7.1"/>
    <title>fish 3.7.1 (released March 19, 2024)</title>
    <content type="html">&lt;p&gt;This release of fish fixes the following problems identified in fish 3.7.0:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Deleting the last history entry via &lt;code&gt;history delete&lt;/code&gt; works again (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10190&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10190/hovercard&quot;&gt;#10190&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Wildcards (&lt;code&gt;*&lt;/code&gt;) will no longer sometimes generate paths that did not exist (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10205&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10205/hovercard&quot;&gt;#10205&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This release also contains some improvements:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A crash when trying to run an ELF program with a missing interpreter has been fixed. This crashed in the process after fork, so did not affect the fish process that tried to start the program (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10199&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10199/hovercard&quot;&gt;#10199&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;funced&lt;/code&gt; will now always &lt;code&gt;source&lt;/code&gt; the file after it has written it, even if the contents did not change. This prevents issues if the file was otherwise modified (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10318&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10318/hovercard&quot;&gt;#10318&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The warning for when a builtin returns a negative exit code was improved, now mentioning the original status (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10187&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10187/hovercard&quot;&gt;#10187&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Added completions for
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cobra-cli&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10293&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10293/hovercard&quot;&gt;#10293&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;dmidecode&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10368&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10368/hovercard&quot;&gt;#10368&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;mycli&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10309&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10309/hovercard&quot;&gt;#10309&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ollama&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10327&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10327/hovercard&quot;&gt;#10327&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pstree&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10317&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10317/hovercard&quot;&gt;#10317&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Some improvements to documentation and completions.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.7.1.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;614c9f5643cd0799df391395fa6bbc3649427bb839722ce3b114d3bbc1a3b250&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.7.1.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.7.0</id>
    <updated>2024-01-02T07:52:28+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.7.0"/>
    <title>fish 3.7.0 (released January 1, 2024)</title>
    <content type="html">&lt;p&gt;This release of fish includes a number of improvements over fish 3.6.4, detailed below. Although work continues on the porting of fish internals to the Rust programming language, that work is not included in this release. fish 3.7.0 and any future releases in the 3.7 series remain C++ programs.&lt;/p&gt;
&lt;h2&gt;Notable improvements and fixes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Improvements to the history pager, including:
&lt;ul&gt;
&lt;li&gt;The history pager will now also attempt subsequence matches (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9476&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9476/hovercard&quot;&gt;#9476&lt;/a&gt;), so you can find a command line like &lt;code&gt;git log 3.6.1..Integration_3.7.0&lt;/code&gt; by searching for &lt;code&gt;gitInt&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Opening the history pager will now fill the search field with a search string if you’re already in a search (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10005&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10005/hovercard&quot;&gt;#10005&lt;/a&gt;). This makes it nicer to search something with &lt;code&gt;↑&lt;/code&gt; and then later decide to switch to the full pager.&lt;/li&gt;
&lt;li&gt;Closing the history pager with enter will now copy the search text to the commandline if there was no match, so you can continue editing the command you tried to find right away (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9934&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9934/hovercard&quot;&gt;#9934&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Performance improvements for command completions and globbing, where supported by the operating system, especially on slow filesystems such as NFS (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9891&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9891/hovercard&quot;&gt;#9891&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9931&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9931/hovercard&quot;&gt;#9931&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10032&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10032/hovercard&quot;&gt;#10032&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10052&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10052/hovercard&quot;&gt;#10052&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish can now be configured to wait a specified amount of time for a multi-key sequence to be completed,  instead of waiting indefinitely. For example, this makes binding &lt;code&gt;kj&lt;/code&gt; to switching modes in vi mode possible.&lt;br&gt;
The timeout can be set via the new &lt;code&gt;fish_sequence_key_delay_ms&lt;/code&gt; variable (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/7401&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/7401/hovercard&quot;&gt;#7401&lt;/a&gt;), and may be set by default in future versions.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Deprecations and removed features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;LS_COLORS&lt;/code&gt; is no longer set automatically by the &lt;code&gt;ls&lt;/code&gt; function (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10080&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10080/hovercard&quot;&gt;#10080&lt;/a&gt;). Users&lt;br&gt;
that set &lt;code&gt;.dircolors&lt;/code&gt; should manually import it using other means. Typically this would be &lt;code&gt;set -gx LS_COLORS (dircolors -c .dircolors | string split &#39; &#39;)[3]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Scripting improvements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Running &lt;code&gt;exit&lt;/code&gt; with a negative number no longer crashes fish (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9659&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9659/hovercard&quot;&gt;#9659&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish --command&lt;/code&gt; will now return a non-zero status if parsing failed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9888&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9888/hovercard&quot;&gt;#9888&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;jobs&lt;/code&gt; builtin will now escape the commands it prints (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9808&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9808/hovercard&quot;&gt;#9808&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;string repeat&lt;/code&gt; no longer overflows if the count is a multiple of the chunk size (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9900&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9900/hovercard&quot;&gt;#9900&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;builtin&lt;/code&gt; builtin will now properly error out with invalid arguments instead of doing nothing and returning true (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9942&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9942/hovercard&quot;&gt;#9942&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;command time&lt;/code&gt; in a pipeline is allowed again, as is &lt;code&gt;command and&lt;/code&gt; and &lt;code&gt;command or&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9985&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9985/hovercard&quot;&gt;#9985&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;exec&lt;/code&gt; will now also apply variable overrides, so &lt;code&gt;FOO=bar exec&lt;/code&gt; will now set &lt;code&gt;$FOO&lt;/code&gt; correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9995&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9995/hovercard&quot;&gt;#9995&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;umask&lt;/code&gt; will now handle empty symbolic modes correctly, like &lt;code&gt;umask u=,g=rwx,o=&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10177&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10177/hovercard&quot;&gt;#10177&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Improved error messages for errors occurring in command substitutions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10054&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10054/hovercard&quot;&gt;#10054&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Interactive improvements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;read&lt;/code&gt; no longer enables bracketed paste so it doesn’t stay enabled in combined commandlines like &lt;code&gt;mysql -p(read --silent)&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8285&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8285/hovercard&quot;&gt;#8285&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Vi mode now uses &lt;code&gt;fish_cursor_external&lt;/code&gt; to set the cursor shape for external commands (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/4656&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/4656/hovercard&quot;&gt;#4656&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Opening the history search in vi mode switches to insert mode correctly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10141&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10141/hovercard&quot;&gt;#10141&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Vi mode cursor shaping is now enabled in iTerm2 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9698&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9698/hovercard&quot;&gt;#9698&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Working directory reporting is enabled for iTerm2 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9955&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9955/hovercard&quot;&gt;#9955&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Completing commands as root includes commands not owned by root, fixing a regression introduced in fish 3.2.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9699&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9699/hovercard&quot;&gt;#9699&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Selection uses &lt;code&gt;fish_color_selection&lt;/code&gt; for the foreground and background colors, as intended, rather than just the background (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9717&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9717/hovercard&quot;&gt;#9717&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The completion pager will no longer sometimes skip the last entry when moving through a long list (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9833&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9833/hovercard&quot;&gt;#9833&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The interactive &lt;code&gt;history delete&lt;/code&gt; interface now allows specifying index ranges like “1..5” (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9736&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9736/hovercard&quot;&gt;#9736&lt;/a&gt;), and &lt;code&gt;history delete --exact&lt;/code&gt; now properly saves the history (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10066&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10066/hovercard&quot;&gt;#10066&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Command completion will now call the stock &lt;code&gt;manpath&lt;/code&gt; on macOS, instead of a potential Homebrew version. This prevents awkward error messages (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9817&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9817/hovercard&quot;&gt;#9817&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new bind function &lt;code&gt;history-pager-delete&lt;/code&gt;, bound to &lt;code&gt;Shift&lt;/code&gt; + &lt;code&gt;Delete&lt;/code&gt; by default, will delete the currently-selected history pager item from history (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9454&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9454/hovercard&quot;&gt;#9454&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_key_reader&lt;/code&gt; will now use printable characters as-is, so pressing “ö” no longer leads to it telling you to bind &lt;code&gt;\\u00F6&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9986&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9986/hovercard&quot;&gt;#9986&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;open&lt;/code&gt; can be used to launch terminal programs again, as an &lt;code&gt;xdg-open&lt;/code&gt; bug has been fixed and a workaround has been removed  (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10045&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10045/hovercard&quot;&gt;#10045&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;repaint-mode&lt;/code&gt; binding will now only move the cursor if there is repainting to be done. This fixes &lt;code&gt;Alt&lt;/code&gt; combination bindings in vi mode (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/7910&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/7910/hovercard&quot;&gt;#7910&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A new &lt;code&gt;clear-screen&lt;/code&gt; bind function is used for &lt;code&gt;Ctrl&lt;/code&gt; + &lt;code&gt;l&lt;/code&gt; by default. This clears the screen and repaints the existing prompt at first,&lt;br&gt;
so it eliminates visible flicker unless the terminal is very slow (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10044&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10044/hovercard&quot;&gt;#10044&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;alias&lt;/code&gt; convenience function has better support for commands with unusual characters, like &lt;code&gt;+&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8720&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8720/hovercard&quot;&gt;#8720&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A longstanding issue where items in the pager would sometimes display without proper formatting has been fixed (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9617&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9617/hovercard&quot;&gt;#9617&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Alt&lt;/code&gt; + &lt;code&gt;l&lt;/code&gt; binding, which lists the directory of the token under the cursor, correctly expands tilde (&lt;code&gt;~&lt;/code&gt;) to the home directory (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9954&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9954/hovercard&quot;&gt;#9954&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Various fish utilities that use an external pager will now try a selection of common pagers if the &lt;code&gt;PAGER&lt;/code&gt; environment variable is not set, or write the output to the screen without a pager if there is not one available (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10074&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10074/hovercard&quot;&gt;#10074&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Command-specific tab completions may now offer results whose first character is a period. For example, it is now possible to tab-complete &lt;code&gt;git add&lt;/code&gt; for files with leading periods. The default file completions hide these files, unless the token itself has a leading period (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/3707&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/3707/hovercard&quot;&gt;#3707&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Improved prompts&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The default theme now only uses named colors, so it will track the terminal’s palette (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9913&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9913/hovercard&quot;&gt;#9913&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The Dracula theme has now been synced with upstream (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9807&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9807/hovercard&quot;&gt;#9807&lt;/a&gt;); use &lt;code&gt;fish_config&lt;/code&gt; to re-apply it to pick up the changes.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fish_vcs_prompt&lt;/code&gt; now also supports fossil (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9497&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9497/hovercard&quot;&gt;#9497&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Prompts which display the working directory using the &lt;code&gt;prompt_pwd&lt;/code&gt; function correctly display directories beginning with dashes (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10169&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10169/hovercard&quot;&gt;#10169&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Completions&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Added completions for:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;age&lt;/code&gt; and &lt;code&gt;age-keygen&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9813&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9813/hovercard&quot;&gt;#9813&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;airmon-ng&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10116&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10116/hovercard&quot;&gt;#10116&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ar&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9720&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9720/hovercard&quot;&gt;#9720&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;blender&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9905&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9905/hovercard&quot;&gt;#9905&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;bws&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10165&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10165/hovercard&quot;&gt;#10165&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;calendar&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10138&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10138/hovercard&quot;&gt;#10138&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;checkinstall&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10106&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10106/hovercard&quot;&gt;#10106&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;crc&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10034&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10034/hovercard&quot;&gt;#10034&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;doctl&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gimp&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9904&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9904/hovercard&quot;&gt;#9904&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gojq&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9740&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9740/hovercard&quot;&gt;#9740&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;horcrux&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9922&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9922/hovercard&quot;&gt;#9922&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ibmcloud&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10004&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10004/hovercard&quot;&gt;#10004&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;iwctl&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/6884&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/6884/hovercard&quot;&gt;#6884&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;java_home&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9998&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9998/hovercard&quot;&gt;#9998&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;krita&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9903&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9903/hovercard&quot;&gt;#9903&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;oc&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10034&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10034/hovercard&quot;&gt;#10034&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qjs&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9723&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9723/hovercard&quot;&gt;#9723&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;qjsc&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9731&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9731/hovercard&quot;&gt;#9731&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rename&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10136&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10136/hovercard&quot;&gt;#10136&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;rpm-ostool&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9669&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9669/hovercard&quot;&gt;#9669&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;smerge&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10135&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10135/hovercard&quot;&gt;#10135&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;userdel&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10056&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10056/hovercard&quot;&gt;#10056&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;watchexec&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10027&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10027/hovercard&quot;&gt;#10027&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wpctl&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10043&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10043/hovercard&quot;&gt;#10043&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;xxd&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10137&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10137/hovercard&quot;&gt;#10137&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;zabbix&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9647&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9647/hovercard&quot;&gt;#9647&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;zfs&lt;/code&gt; completions no longer print errors about setting a read-only variable (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9705&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9705/hovercard&quot;&gt;#9705&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;kitty&lt;/code&gt; completions have been removed in favor of keeping them upstream (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9750&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9750/hovercard&quot;&gt;#9750&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git&lt;/code&gt; completions now support aliases that reference other aliases (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9992&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9992/hovercard&quot;&gt;#9992&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;gw&lt;/code&gt; and &lt;code&gt;gradlew&lt;/code&gt; completions are loaded properly (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10127&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10127/hovercard&quot;&gt;#10127&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Improvements to many other completions.&lt;/li&gt;
&lt;li&gt;Improvements to the manual page completion generator (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9787&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9787/hovercard&quot;&gt;#9787&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9814&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9814/hovercard&quot;&gt;#9814&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9961&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9961/hovercard&quot;&gt;#9961&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Other improvements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Improvements and corrections to the documentation.&lt;/li&gt;
&lt;li&gt;The Web-based configuration now uses a more readable style when printed, such as for a keybinding reference (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9828&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9828/hovercard&quot;&gt;#9828&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Updates to the German translations (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9824&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9824/hovercard&quot;&gt;#9824&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The colors of the Nord theme better match their official style (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10168&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/10168/hovercard&quot;&gt;#10168&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;For distributors&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;The licensing information for some of the derived code distributed with fish was incomplete. Though the license information was present in the source distribution, it was not present in the documentation. This has been corrected (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/10162&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/10162/hovercard&quot;&gt;#10162&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The CMake configure step will now also look for libterminfo as an alternative name for libtinfo, as used in NetBSD curses (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9794&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9794/hovercard&quot;&gt;#9794&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.7.0.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;df1b7378b714f0690b285ed9e4e58afe270ac98dbc9ca5839589c1afcca33ab1&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.7.0.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.6.4</id>
    <updated>2023-12-08T15:53:18+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.6.4"/>
    <title>fish 3.6.4 (released December 5, 2023)</title>
    <content type="html">&lt;p&gt;This release contains a complete fix for the test suite failure in fish 3.6.2 and 3.6.3.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.6.4.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;0f3f610e580de092fbe882c8aa76623ecf91bb16fdf0543241e6e90d5d4bc393&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.6.4.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.6.3</id>
    <updated>2023-12-05T02:10:26+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.6.3"/>
    <title>fish 3.6.3 (released December 4, 2023)</title>
    <content type="html">&lt;p&gt;This release contains a fix for a test suite failure in fish 3.6.2.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.6.3.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;55520128c8ef515908a3821423b430db9258527a6c6acb61c7cb95626b5a48d5&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.6.3.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.6.2</id>
    <updated>2023-12-05T01:40:29+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.6.2"/>
    <title>fish 3.6.2 (released December 4, 2023)</title>
    <content type="html">&lt;p&gt;(Please note: this release builds and runs successfully, but the test suite does not pass. A new version will be released shortly.)&lt;/p&gt;
&lt;p&gt;This release of fish contains a security fix for &lt;a href=&quot;https://github.com/fish-shell/fish-shell/security/advisories/GHSA-2j9r-pm96-wp4f&quot;&gt;CVE-2023-49284&lt;/a&gt;, a minor security problem identified in fish 3.6.1 and previous versions (thought to affect all released versions of fish).&lt;/p&gt;
&lt;p&gt;fish uses certain Unicode non-characters internally for marking wildcards and expansions. It incorrectly allowed these markers to be read on command substitution output, rather than transforming them into a safe internal representation.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;echo \UFDD2HOME&lt;/code&gt; has the same output as &lt;code&gt;echo $HOME&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;While this may cause unexpected behavior with direct input, this may become a minor security problem if the output is being fed from an external program into a command substitution where this output may not be expected.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.6.2.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; will not build correctly. The SHA-256 sum of this file is &lt;code&gt;a21a6c986f1f80273895ba7e905fa80ad7e1a262ddb3d979efa443367eaf4863&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.6.2.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/3.6.1</id>
    <updated>2023-03-26T07:37:06+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/3.6.1"/>
    <title>fish 3.6.1 (released March 25, 2023)</title>
    <content type="html">&lt;p&gt;This release of fish contains a number of fixes for problems identified in fish 3.6.0, as well as some enhancements.&lt;/p&gt;
&lt;h3&gt;Notable improvements and fixes&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;abbr --erase&lt;/code&gt; now also erases the universal variables used by the old abbr function. That means&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight highlight-source-fish notranslate position-relative overflow-auto&quot; data-snippet-clipboard-copy-content=&quot;    abbr --erase (abbr --list)&quot;&gt;&lt;pre&gt;    abbr &lt;span class=&quot;pl-s&quot;&gt;--erase&lt;/span&gt; (abbr &lt;span class=&quot;pl-s&quot;&gt;--list&lt;/span&gt;)&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;can now be used to clean out all old abbreviations (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9468&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9468/hovercard&quot;&gt;#9468&lt;/a&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;abbr --add --universal&lt;/code&gt; now warns about &lt;code&gt;--universal&lt;/code&gt; being non-functional, to make it easier to detect old-style &lt;code&gt;abbr&lt;/code&gt; calls (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9475&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9475/hovercard&quot;&gt;#9475&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Deprecations and removed features&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The Web-based configuration for abbreviations has been removed, as it was not functional with the changes abbreviations introduced in 3.6.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9460&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9460/hovercard&quot;&gt;#9460&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Scripting improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;abbr --list&lt;/code&gt; no longer escapes the abbr name, which is necessary to be able to pass it to &lt;code&gt;abbr --erase&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9470&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9470/hovercard&quot;&gt;#9470&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;read&lt;/code&gt; will now print an error if told to set a read-only variable, instead of silently doing nothing (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9346&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9346/hovercard&quot;&gt;#9346&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;set_color -v&lt;/code&gt; no longer crashes fish (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9640&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9640/hovercard&quot;&gt;#9640&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Interactive improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Using &lt;code&gt;fish_vi_key_bindings&lt;/code&gt; in combination with fish’s &lt;code&gt;--no-config&lt;/code&gt; mode works without locking up the shell (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9443&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9443/hovercard&quot;&gt;#9443&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The history pager now uses more screen space, usually half the screen (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9458&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9458/hovercard&quot;&gt;#9458&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;Variables that were set while the locale was C (the default ASCII-only locale) will now properly be encoded if the locale is switched (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/2613&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/2613/hovercard&quot;&gt;#2613&lt;/a&gt;, &lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9473&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9473/hovercard&quot;&gt;#9473&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Escape during history search restores the original command line again (fixing a regression in 3.6.0).&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;--help&lt;/code&gt; on builtins now respects the &lt;code&gt;$MANPAGER&lt;/code&gt; variable, in preference to &lt;code&gt;$PAGER&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9488&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9488/hovercard&quot;&gt;#9488&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Control-G&lt;/code&gt; closes the history pager, like other shells (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9484&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9484/hovercard&quot;&gt;#9484&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The documentation for the &lt;code&gt;:&lt;/code&gt;, &lt;code&gt;[&lt;/code&gt; and &lt;code&gt;.&lt;/code&gt; builtin commands can now be looked up with &lt;code&gt;man&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9552&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9552/hovercard&quot;&gt;#9552&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;fish no longer crashes when searching history for non-ASCII codepoints case-insensitively (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9628&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9628/hovercard&quot;&gt;#9628&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The &lt;code&gt;Alt-S&lt;/code&gt; binding will now also use &lt;code&gt;please&lt;/code&gt; if available (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9635&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9635/hovercard&quot;&gt;#9635&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Themes that don’t specify every color option can be installed correctly in the Web-based configuration (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9590&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9590/hovercard&quot;&gt;#9590&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Compatibility with Midnight Commander’s prompt integration has been improved (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9540&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9540/hovercard&quot;&gt;#9540&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;A spurious error, noted when using fish in Google Drive directories under WSL 2, has been silenced (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9550&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9550/hovercard&quot;&gt;#9550&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Using &lt;code&gt;read&lt;/code&gt; in &lt;code&gt;fish_greeting&lt;/code&gt; or similar functions will not trigger an infinite loop (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9564&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9564/hovercard&quot;&gt;#9564&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Compatibility when upgrading from old versions of fish (before 3.4.0) has been improved (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9569&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9569/hovercard&quot;&gt;#9569&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Improved prompts&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;The git prompt will compute the stash count to be used independently of the informative status (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9572&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9572/hovercard&quot;&gt;#9572&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Completions&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Added completions for:
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;apkanalyzer&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9558&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9558/hovercard&quot;&gt;#9558&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;neovim&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9543&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9543/hovercard&quot;&gt;#9543&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;otool&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pre-commit&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9521&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9521/hovercard&quot;&gt;#9521&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;proxychains&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9486&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9486/hovercard&quot;&gt;#9486&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;scrypt&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9583&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9583/hovercard&quot;&gt;#9583&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;stow&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9571&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9571/hovercard&quot;&gt;#9571&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;trash&lt;/code&gt; and helper utilities &lt;code&gt;trash-empty&lt;/code&gt;, &lt;code&gt;trash-list&lt;/code&gt;, &lt;code&gt;trash-put&lt;/code&gt;, &lt;code&gt;trash-restore&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9560&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9560/hovercard&quot;&gt;#9560&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ssh-copy-id&lt;/code&gt; (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9675&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9675/hovercard&quot;&gt;#9675&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Improvements to many completions, including the speed of completing directories in WSL 2 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9574&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9574/hovercard&quot;&gt;#9574&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;Completions using &lt;code&gt;__fish_complete_suffix&lt;/code&gt; are now offered in the correct order, fixing a regression in 3.6.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/8924&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/8924/hovercard&quot;&gt;#8924&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git&lt;/code&gt; completions for &lt;code&gt;git-foo&lt;/code&gt;-style commands was restored, fixing a regression in 3.6.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9457&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9457/hovercard&quot;&gt;#9457&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;File completion now offers &lt;code&gt;../&lt;/code&gt; and &lt;code&gt;./&lt;/code&gt; again, fixing a regression in 3.6.0 (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9477&quot; data-hovercard-type=&quot;pull_request&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/pull/9477/hovercard&quot;&gt;#9477&lt;/a&gt;).&lt;/li&gt;
&lt;li&gt;The behaviour of completions using &lt;code&gt;__fish_complete_path&lt;/code&gt; matches standard path completions (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9285&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9285/hovercard&quot;&gt;#9285&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Other improvements&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Improvements and corrections to the documentation.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;For distributors&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;fish 3.6.1 builds correctly on Cygwin (&lt;a href=&quot;https://github.com/fish-shell/fish-shell/issues/9502&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9502/hovercard&quot;&gt;#9502&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Download links: To download the source code for fish, we suggest the file named &quot;fish-3.6.1.tar.xz&quot;. The file downloaded from &quot;Source code (tar.gz)&quot; may not build correctly. The SHA-256 sum of this file is &lt;code&gt;55402bb47ca6739d8aba25e41780905b5ce1bce0a5e0dd17dca908b5bc0b49b2&lt;/code&gt;. A GPG signature from David Adam (key ID &lt;code&gt;0x7A67D962D88A709A&lt;/code&gt;) is available as &quot;fish-3.6.1.tar.xz.asc&quot;.&lt;/em&gt;&lt;/p&gt;</content>
    <author>
      <name>zanchey</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/520741?s=60&amp;v=4"/>
  </entry>
  <entry>
    <id>tag:github.com,2008:Repository/4279682/LastC++11</id>
    <updated>2023-02-19T23:57:32+10:00</updated>
    <link rel="alternate" type="text/html" href="https://github.com/fish-shell/fish-shell/releases/tag/LastC%2B%2B11"/>
    <title>LastC++11: webconfig: Set a variable before</title>
    <content type="html">&lt;p&gt;This fixes things if a theme is entirely empty.&lt;/p&gt;
&lt;p&gt;Fixes &lt;a class=&quot;issue-link js-issue-link&quot; data-error-text=&quot;Failed to load title&quot; data-id=&quot;1590692625&quot; data-permission-text=&quot;Title is private&quot; data-url=&quot;https://github.com/fish-shell/fish-shell/issues/9590&quot; data-hovercard-type=&quot;issue&quot; data-hovercard-url=&quot;/fish-shell/fish-shell/issues/9590/hovercard&quot; href=&quot;https://github.com/fish-shell/fish-shell/issues/9590&quot;&gt;#9590&lt;/a&gt;&lt;/p&gt;</content>
    <author>
      <name>faho</name>
    </author>
    <media:thumbnail height="30" width="30" url="https://avatars.githubusercontent.com/u/5185367?s=60&amp;v=4"/>
  </entry>
</feed>
